---
layout: post
title: SpringBoot day007,008 정리
date: 2018-05-16 00:00:00 +0300
description:  day 007,008 정리 # Add post description (optional)
img: springBootLogo.JPG # Add image post (optional)
tags: [SpringBoot] # add tag
---
> 백기선님 강의와 SpringBoot reference를 기반으로 정리하였습니다.

프로젝트리스트  
![Intellij LIst]({{site.baseurl}}/assets/img/sos.jpg)

## 23.5 Application Events and Listeners
spring App이 동작되기 전에 events와 Listeners을 정의 할수 있다.

```java 
MyLisener.java

public class MyListener implements ApplicationListener<ApplicationStartedEvent> {
    @Override
    public void onApplicationEvent(ApplicationStartedEvent applicationStartedEvent) {
        System.out.println("APPLICATION STARTED");
    }
}


```


ApplicationListenr 클래스에 이벤트 타입을 지정해주고
ex) *ApplicationStartingEvent*, *ApplicationEnvironmentPreparedEvent*,*ApplicationPreparedEvent* 등등 ..
```java  
    Application.java 
    
   //@EnableAutoConfiguration  spring boot에서 제공하는 annotation  
   //@Configuration
   //@ComponentScan  con 밑에  있는 클래스를 참조해서  bean으로 등록할 수 있는 건 등록함
   //    이걸로 @Configuration 을 픽업하게 만들어라
   
   @RestController
   @SpringBootApplication  @EnableAutoConfiguration , @Configuration //모아놓은것 
    public class Application {
        //주입 받고
        @Autowired
        private HelloService helloService;
        @RequestMapping("/")
        public String home(){
            return helloService.getMessage();
        }
        @Bean
        public ExitCodeGenerator exitCodeGenerator(){
            return () -> 42;
        }
        public static void main (String args [] ){
            SpringApplication app = new SpringApplication(Application.class);
            app.addListeners(new MyListener()); //*MyListenr() 이벤트나 리스너를 정의한것을 addListener 메소드를 통해 추가  *
            app.run(args);
       }
    }
```  
    
#### 실행결과 창
![excuteResult]({{site.baseurl}}/assets/img/day007/day007Result.JPG)  

## 24. Externalized Configuration
> Spring boot configuration 우선순위 그리고 properties 의 placeholder 사용 방법 
ex) 1. @Value ("${name}") -Value 어노테이션을 사용하는방법
    2. @ConfigurationProperties("name") - 다음 포스팅에서 기술
    3. Environment 클래스 사용 - 다음 포스팅에서 기술

기본적으로 boot는 applciation.properties 파일을 통하여 argument를 정의 해놓으면   
![application.propeties]({{site.baseurl}}/assets/img/day007/day007applicationProperties.jpg) 
 
@Value("$name") 으로 주입 받아 사용할 수 있다.

```java  
    @Value("${name}")
    String name
    
    public String getMessage(){
        return name;
    }
```
또한 java -jar 옵션으로 패키지 파일을 실행할 때도 사용할 수 있다.  
ex) java -jar springBootDay005-1.0-SNAPSHOT.jar.original *--name=YONGHEE* 

>application.properties  

key 값을 다른 key의 value 값에 변수로 사용할 수 있음 .  
ex) foo = ${random.uuid}  
name =123 ${foo}  
meyonghee.name = ${name:YONGHEE}

